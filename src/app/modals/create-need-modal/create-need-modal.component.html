<div class="card">
	<div class="card-header">
		<h4 class="card-title">Cr&eacute;er un nouveau besoin projet</h4>
		<button type="button" class="close" aria-label="Close"
		   (click)="activeModal.dismiss('Cross click')">
		</button>
	</div>
	<div class="card-body">
		<form [formGroup]="createNeedForm" (ngSubmit)="submitForm()">
	      	<div class="form-group row">			      	
		    	<div class=" col-md-6">
			      	<mat-form-field>
				    	<mat-label>Projet</mat-label>
				    	<input type="text"
				        	placeholder="Pick one"
				           	aria-label="Projet"
				           	matInput
				           	[formControl]="projectControl"
				           	[matAutocomplete]="auto">
					    <mat-autocomplete autoActiveFirstOption #auto="matAutocomplete" >
					    	<mat-option *ngFor="let project of filteredProjects | async" [value]="project.name">
					        	{{project.name}}
					      	</mat-option>
					    </mat-autocomplete>
				  	</mat-form-field>
				</div>
		    	<div class=" col-md-6">
					<mat-form-field>
				    	<mat-label>Profil</mat-label>
				    	<input type="text"
				        	placeholder="Pick one"
				           	aria-label="Profil"
				           	matInput
				           	[formControl]="profileControl"
				           	[matAutocomplete]="auto">
					    <mat-autocomplete autoActiveFirstOption #auto="matAutocomplete" >
					    	<mat-option *ngFor="let profile of filteredProfiles | async" [value]="profile.id">
					        	{{profile.name}}
					      	</mat-option>
					    </mat-autocomplete>
				  	</mat-form-field>
				</div>
			</div>
	      	<div class="form-group row">			      	
		    	<div class=" col-md-6">
				    <label for="type">Type de projet</label>
					<select class="form-control" name="type" formControlName="type">
						<option *ngFor="let key of types | keys" value="1" selected>{{types[key].label}}</option>
					</select>
		      	</div>
		      	<div class=" col-md-6">
			        <label for="criticity">Criticit&eacute;</label>
					<select class="form-control" name="criticity" formControlName="criticity">
						<option class="{{criticities[key].class}}" *ngFor="let key of criticities | keys; let first = first" value="{{key}}" selected>{{key}}</option>
					</select>
		      	</div>
		    </div>
			<app-week-table></app-week-table>
			<div>
			    <button class="btn btn-fill btn-danger" [disabled]="!createNeedForm.valid">
			      Submit Form
			    </button>
			</div>
		</form>
	</div>
</div>