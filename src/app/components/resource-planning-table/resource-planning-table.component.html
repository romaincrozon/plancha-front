<div class=" content">
	<div class="row">
		<div class="col-md-12">
			<div class=" card">
				<div class=" card-header">
					<h4 class=" card-title">Plan de charge</h4>
				</div>
				<div class=" card-body">
					<div class=" table-responsive">
						<table class=" table tablesorter">
							<thead class=" text-primary">
								<tr>
									<th></th>
									<th></th>
									<th></th>
									<th></th>
									<th></th>
									<th style="border: 1px solid black;" *ngFor="let month of calendar?.monthList" [attr.colspan]="month.numberOfDays" >{{month.name}}</th>
								</tr>
								<tr>
									<th></th>
									<th></th>
									<th></th>
									<th></th>
									<th></th>
									<th style="border: 1px solid black;" *ngFor="let week of calendar?.weekList">S{{week.numWeek}}</th>
								</tr>
								<tr>
									<th></th>
									<th></th>
									<th></th>
									<th></th>
									<th></th>
									<th style="border: 1px solid black;" *ngFor="let date of calendar?.planchaCalendarList" [style.color]="'black'" [ngStyle]="{'background-color' : date.holiday ? 'red': 'white'}" >{{date.calendar | date:'d'}}</th>
								</tr>
							</thead>
							<tbody>
								<ng-container *ngFor="let resource of resources">
									<tr>
										<td>{{resource.quadri}}</td>
										<td *ngFor="let resourceCalendar of resource?.resourceCalendars"></td>
									</tr>
									<ng-container >
										<ng-container *ngFor="let task of resourceCalendar?.taskList">
											<tr>
												<td></td>
												<td></td>
												<td></td>
												<td>{{task.name}}</td>
												<td>
													<button (click)="openFormModal(project.resources)" type="button" class="btn btn-link">
                      									<i class="tim-icons icon-pencil"></i>
                    								</button>
                    							</td>
												<td *ngFor="let calendar of calendar?.planchaCalendarList">{{task.resourceCalendars | countTaskPipe:calendar}}</td>
											</tr>
<!-- 											<tr app-planning-task -->
<!-- 												[task]="task" -->
<!-- 												[gridParameters]="gridParameters"					 -->
<!-- 												[projectResources]="project?.resources" -->
<!-- 												[calendars]="calendar?.planchaCalendarList" -->
<!-- 												[weeks]="calendar?.weekList"> -->
<!-- 											</tr> -->
											<tr *ngFor="let resourceCalendar of task?.resourceCalendars"
												app-planning-row
												[resourceCalendar]="resourceCalendar"
												[gridParameters]="gridParameters"					
												[projectResources]="project?.resources"
												[calendars]="calendar?.planchaCalendarList"
												[weeks]="calendar?.weekList">
											</tr>
										</ng-container>
									</ng-container> 
								</ng-container>
							</tbody>
						</table>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>